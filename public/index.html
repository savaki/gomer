<html>
<head>
  <meta name="viewport" content="user-scalable=0, initial-scale=1.0"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <title>Homie</title>

  <!-- specify the home screen icons -->
  <link rel="apple-touch-icon" href="/images/mcp-icon.png"/>
  <link rel="apple-touch-icon" sizes="72x72" href="/images/mcp-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="114x114" href="/images/mcp-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="144x144" href="/images/mcp-icon-ipad-retina.png"/>

  <link rel="stylesheet" type="text/css" href="/styles/default.css"/>
  <link rel="stylesheet" type="text/css" media="(max-width: 320px)" href="/styles/mobile-portrait.css"/>
  <link rel="stylesheet" type="text/css" media="(min-width: 321px)" href="/styles/desktop.css"/>

  <script language="JavaScript" type="text/javascript" src="/scripts/jquery-2.0.3.min.js"></script>
  <script language="JavaScript">
    $(document).ready(function () {
      function handleBelkin(evt) {
        var button = $(this)
        var name = button.attr("data-name");
        var action = button.attr("data-action");
        button.addClass("pressed");

        $.ajax({
          type: "POST",
          url: "/api/belkin/" + name + "/" + action,
          success: function () {
            $(".pressed").removeClass("pressed");
          }
        });

        return false;
      }

      $(".belkin").on("click", handleBelkin);
      $(".belkin").on("touchstart", handleBelkin);

      function handleHue(evt) {
        var button = $(this)
        var name = button.attr("data-name");
        var action = button.attr("data-action");
        button.addClass("pressed");

        $.ajax({
          type: "POST",
          url: "/api/hue/" + name + "/" + action,
          success: function () {
            $(".pressed").removeClass("pressed");
          }
        });

        return false;
      }

      $(".hue").on("click", handleHue);
      $(".hue").on("touchstart", handleHue);

      function handleIr(evt) {
        var button = $(this)
        var name = button.attr("data-name");
        var action = button.attr("data-action");
        button.addClass("pressed");

        $.ajax({
          type: "POST",
          url: "/api/ir/" + name + "/" + action,
          success: function () {
            $(".pressed").removeClass("pressed");
          }
        });

        return false;
      }

      $(".ir").on("click", handleIr);
      $(".ir").on("touchstart", handleIr);
    })
  </script>
</head>
<body>

<div class="span-2">
  <a href="#" data-name="all" data-action="on" class="belkin hue button center">All On</a>

  <div class="clearfix">
    <div class="left">
      <a href="#" data-name="kitchen_overhead" data-action="toggle" class="belkin button">Kitchen Overhead</a>
      <a href="#" data-name="kitchen_sink" data-action="toggle" class="belkin button">Kitchen Sink</a>
      <a href="#" data-name="left_wall" data-action="toggle" class="belkin button">Left Wall</a>
      <a href="#" data-name="right_wall" data-action="toggle" class="belkin button">Right Wall</a>
      <a href="#" data-name="spotlight" data-action="toggle" class="hue button">Rear Spotlight</a>
    </div>
    <div class="right">
      <a href="#" data-name="mirror_overhead" data-action="toggle" class="belkin button">Mirror Overhead</a>
      <a href="#" data-name="office_overhead" data-action="toggle" class="belkin button">Office Overhead</a>
      <a href="#" data-name="dome" data-action="toggle" class="hue button">Dome Lights</a>
      <a href="#" data-name="front_room" data-action="toggle" class="hue button">Front Room</a>
    </div>
  </div>

  <a href="#" data-name="all" data-action="off" class="belkin hue button center">All Off</a>
</div>

<div class="span-2 colorloop">
  <div class="clearfix">
    <div class="left">
      <a href="#" data-name="spotlight" data-action="colorloop" class="hue button">Rear Spotlight</a>
    </div>
    <div class="right">
      <a href="#" data-name="dome" data-action="colorloop" class="hue button">Dome Lights</a>
      <a href="#" data-name="front_room" data-action="colorloop" class="hue button">Front Room</a>
    </div>
  </div>
</div>

<div class="span-2">
  <div class="clearfix">
    <div class="left">
      <a href="#" data-name="projector_power" data-action="click" class="ir button">Projector</a>
    </div>
    <div class="right">
      <a href="#" data-name="itv_play_pause" data-action="click" class="ir button">ITV Pause</a>
    </div>
  </div>
</div>

</body>
</html>